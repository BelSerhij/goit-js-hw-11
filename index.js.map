{"version":3,"file":"index.js","sources":["../src/js/pixabay.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"54669575-c2336e168543ddb8f43b85352\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport const getImagesByQuery = async (query) => {\n   \n    const response = await axios.get(BASE_URL, {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true\n        }\n    });\n    return response.data.hits;\n};\n","\nexport function renderImages(images) {\n    const gallery = document.querySelector(\".gallery\");\n    const markup = images.map(image => `\n        <div class=\"photo-card\">\n            <a href=\"${image.largeImageURL}\" class=\"lightbox\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n            </a>\n            <div class=\"info\">\n                <p><b>Likes:</b> ${image.likes}</p>\n                <p><b>Views:</b> ${image.views}</p>\n                <p><b>Comments:</b> ${image.comments}</p>\n                <p><b>Downloads:</b> ${image.downloads}</p>\n            </div>\n        </div>\n    `).join(\"\");\n    gallery.innerHTML = markup;\n}\n\n","\nimport { getImagesByQuery } from './js/pixabay.js'; \nimport { renderImages } from './js/render-functions.js'; \n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst input = document.getElementById('datetime-picker');\nconst form = document.querySelector('.form'); \nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector('.loader'); \n\nform.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({ message: 'Введіть запит!', position: 'topRight' });\n        return;\n    }\n\n    gallery.innerHTML = '<p>Loading images, please wait...</p>'; \n    loader.classList.add('is-visible');\n\n    try {\n        const images = await getImagesByQuery(query);\n\n        if (images.length === 0) {\n            gallery.innerHTML = '';\n            iziToast.error({\n                message: 'На жаль, за вашим запитом нічого не знайдено.',\n                position: 'topRight'\n            });\n            return;\n        }\n\n        renderImages(images);\n        lightbox.refresh();\n        input.value = ''; \n        \n    } catch (error) {\n        gallery.innerHTML = '';\n        iziToast.error({ message: 'Помилка сервера!', position: 'topRight' });\n        console.error(error);\n    }\n    finally {\n        loader.classList.remove('is-visible');\n    }\n});\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","renderImages","images","gallery","markup","image","input","form","loader","event","iziToast","lightbox","error","SimpleLightbox"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAmB,MAAOC,IAElB,MAAMC,EAAM,IAAIH,EAAU,CACvC,OAAQ,CACJ,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,GACe,KAAK,KCflB,SAASE,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAIG,GAAS;AAAA;AAAA,uBAEhBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,mCAG/BA,EAAM,KAAK;AAAA,mCACXA,EAAM,KAAK;AAAA,sCACRA,EAAM,QAAQ;AAAA,uCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAGjD,EAAE,KAAK,EAAE,EACVF,EAAQ,UAAYC,CACxB,CCPA,MAAME,EAAQ,SAAS,eAAe,iBAAiB,EACjDC,EAAO,SAAS,cAAc,OAAO,EACrCJ,EAAU,SAAS,cAAc,UAAU,EAC3CK,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMV,EAAQO,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACP,EAAO,CACRW,EAAS,QAAQ,CAAE,QAAS,iBAAkB,SAAU,UAAU,CAAE,EACpE,MACH,CAEDP,EAAQ,UAAY,wCACpBK,EAAO,UAAU,IAAI,YAAY,EAEjC,GAAI,CACA,MAAMN,EAAS,MAAMJ,EAAiBC,CAAK,EAE3C,GAAIG,EAAO,SAAW,EAAG,CACrBC,EAAQ,UAAY,GACpBO,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDT,EAAaC,CAAM,EACnBS,EAAS,QAAO,EAChBL,EAAM,MAAQ,EAEjB,OAAQM,EAAO,CACZT,EAAQ,UAAY,GACpBO,EAAS,MAAM,CAAE,QAAS,mBAAoB,SAAU,UAAU,CAAE,EACpE,QAAQ,MAAME,CAAK,CACtB,QACO,CACJJ,EAAO,UAAU,OAAO,YAAY,CACvC,CACL,CAAC,EAED,MAAMG,EAAW,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC"}